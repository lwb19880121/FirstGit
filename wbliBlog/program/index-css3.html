<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
 </head>
 <link type="text/css" rel="stylesheet" href="../css/common.css">
  <link type="text/css" rel="stylesheet" href="../css/blog.css">
 <body>
 		<!--header start-->	
 		<header class="header">
			<div class="h-con">
				<div class="h-title fl">
					<h1>
						<a href="javascript:void(0)" class="logo" >LEE Blog
							<span class="motto">As much as anyone's effort</span>
						</a>
					</h1>
				</div>
				<div class="login fr">
					<a href="index-login.html">登录</a>
					<span class="l-line">|</span>
					<a href="index-register.html">注册</a>
				</div>
			</div>
		</header>
		<!--end header-->
		<!--nav start-->
 		<nav class="nav">
			<div class="menu">
				<ul class="m-ul">
					<li>
						<a href="../index.html" class="m-sel">Home</a>
						<span class="line"><span>
					</li>
					<li>
						<a href="index-myself.html">About</a>
						<span class="line"><span>
					</li>
					<li>
						<a href="index-html5.html">Html5</a>
						<span class="line"></span>
					</li>
					<li>
						<a href="index-javascript.html">Javascript</a>
						<span class="line"></span>
					</li>
					<li>
						<a href="index-css3.html">Css3</a>
						<span class="line"></span>
					</li>
				</ul>
			</div>
		</nav>
		<!--end nav-->
		<!--mys-caselist start-->
		<div class="mys-caselist">
			<ul id="pubu">
				<li>
					<a href="index-3d1.html"><img src="../images/css3-img01.jpg"/></a>
					<a href="index-3d1.html">css3实现3D旋转</a>
				</li>
				<li>
					<img src="../images/pubu-02.jpg"/>
					<a href="javascript:void(0)">图片标题2</a>
				</li>
				<li>
					<img src="../images/pubu-03.jpg"/>
					<a href="javascript:void(0)">图片标题3</a>
				</li>
				<li>
					<img src="../images/pubu-04.jpg"/>
					<a href="javascript:void(0)">图片标题4</a>
				</li>
				<li>
					<img src="../images/pubu-05.jpg"/>
					<a href="javascript:void(0)">图片标题5</a>
				</li>
				<li>
					<img src="../images/pubu-06.jpg"/>
					<a href="javascript:void(0)">图片标题6</a>
				</li>
				<li>
					<img src="../images/pubu-07.jpg"/>
					<a href="javascript:void(0)">图片标题7</a>
				</li>
				<li>
					<img src="../images/pubu-08.jpg"/>
					<a href="javascript:void(0)">图片标题8</a>
				</li>
				<li>
					<img src="../images/pubu-09.jpg"/>
					<a href="javascript:void(0)">图片标题9</a>
				</li>
				<li>
					<img src="../images/pubu-010.jpg"/>
					<a href="javascript:void(0)">图片标题10</a>
				</li>
				<li>
					<img src="../images/pubu-011.jpg"/>
					<a href="javascript:void(0)">图片标题11</a>
				</li>
				<li>
					<img src="../images/pubu-012.jpg"/>
					<a href="javascript:void(0)">图片标题12</a>
				</li>
				<li>
					<img src="../images/pubu-013.jpg"/>
					<a href="javascript:void(0)">图片标题13</a>
				</li>
				<li>
					<img src="../images/pubu-014.jpg"/>
					<a href="javascript:void(0)">图片标题14</a>
				</li>
				<li>
					<img src="../images/pubu-015.jpg"/>
					<a href="javascript:void(0)">图片标题15</a>
				</li>
				<li>
					<img src="../images/pubu-016.jpg"/>
					<a href="javascript:void(0)">图片标题16</a>
				</li>
			</ul>
		</div>
		<!--end mys-caselist-->
		<!--footer start-->
		<!--
 		<footer class="footer">
			<div class="copyright">Copyright © 2048 Your Company Name - Mr.Lee Learning Space</div>
		</footer>
		-->
		<!--end footer-->
				
		<script>
			window.onload = function(){flow(20,20);}
				function flow(mh,mv){//参数mh和mv是定义数据块之间的间距，mh是水平距离，mv是垂直距离 
					var pubu = document.getElementById("pubu");
					var lidoms = pubu.getElementsByTagName("li");
					var w = pubu.offsetWidth;//计算页面的宽度
					var iw = lidoms[0].offsetWidth + mh;//计算每一列的宽度
					var cells = Math.floor(w / iw);
					pubu.style.width = iw * cells - mh + "px";//设置pubu的宽度至适合便可以利用css定义的margin把所有内容居中;	
					var liLens = lidoms.length;
					var liArr = [];
					for(var i=0;i<liLens;i++){//遍历每一个数据块将高度记入数组 
						liArr.push(lidoms[i].offsetHeight);
					}
					var oArr = [];
					for(var i=0;i<cells;i++){//把第一行排放好，并将每一列的高度记入数据oArr 
						lidoms[i].style.top = 0;
						lidoms[i].style.left = iw * i + "px";
						lidoms[i].style.opacity = 1;
						lidoms[i].style["filter"] = "alpha(opacity==100)";
						oArr.push(liArr[i]);
					}
					for(var i=cells;i < liLens;i++){//将其他数据块定位到最短的一列后面，然后再更新该列的高度 
						var x = getMinKey(oArr);
						lidoms[i].style.top = oArr[x] + mv +"px";
						lidoms[i].style.left = iw*x + "px";
						lidoms[i].style.opacity = 1;
						lidoms[i].style["filter"]="alpha(opacity=100)";
						oArr[x] = liArr[i] + oArr[x] + mv;//更新该列的高度 
					}
					
				}	
				function getMinKey(arr){
					var a = arr[0];
					var b = 0;
					for(var k in arr){
						if(arr[k] < a){
							 a = arr[k];
							 b = k;
						}
					}
					return b;
				}
		</script>
</body>
</html>