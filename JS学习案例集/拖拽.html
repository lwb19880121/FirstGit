<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style type="text/css">
	*{margin:0;padding:0}
	#div1{width:100px;height:100px;background:red;position:absolute;}
  </style>
 </head>
 <body>
		<div id="div1"></div>
		 
		 <script type="text/javascript">
			window.onload = function(){
				var oDiv = document.getElementById('div1');
				var disX = 0;
				var disY = 0;
				oDiv.onmousedown = function(ev){
					var oEv = ev || event;
					disX = oEv.clientX - oDiv.offsetLeft;
					disY = oEv.clientY - oDiv.offsetTop;

					document.onmousemove = function(ev){
						var oEv = ev || event;
						var l = oEv.clientX - disX;
						var t =  oEv.clientY - disY;
						if(l<0){
							l = 0;
						}else if( l > document.documentElement.clientWidth - oDiv.offsetWidth){
							l = document.documentElement.clientWidth - oDiv.offsetWidth;
						}
						if(t<0){
							t = 0;
						}else if(t > document.documentElement.clientHeight - oDiv.offsetHeight){
							t = document.documentElement.clientHeight - oDiv.offsetHeight;
						}
						oDiv.style.left = l + "px";
						oDiv.style.top =  t + "px";					
					}
					document.onmouseup = function(){
						document.onmousemove = null;
						document.onmouseup = null;
					}				
					return false;	
				}
			}
		 </script>
 </body>
</html>
